<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Cadastro de Usuários</title>
</head>
<body>
    <h1>Formulário de Cadastro</h1>
    <form action="http://localhost:3000/cadastro" method="post">
        <label for="username">Nome de usuário:</label>
        <input type="text" id="username" name="username">
        <span id="erroruser" class="error-message" style="color: red;"></span><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email">
        <span id="erroremail" class="error-message" style="color: red;"></span><br><br>

        <label for="password">Senha:</label>
        <input type="password" id="password" name="password">
        <span id="errorpass" class="error-message" style="color: red;"></span><br><br>

        <input type="submit" value="Cadastrar">
    </form>
    
    <a id="LogRend" href="http://localhost:3000">volte para página de login</a>
    
    <script>
        document.querySelector('form').addEventListener('submit', function(event){
        event.preventDefault(); // Prevenir o envio do formulário

        const username = document.getElementById('username');
        const email = document.getElementById('email');
        const password = document.getElementById('password');
        let isValid = true;

        if (!username.value) {
            showErrorMessage(username.nextElementSibling, 'Nome de usuário é obrigatório');
            isValid = false;
        } else {
            clearErrorMessage(username.nextElementSibling);
        }

        if (!email.value) {
            showErrorMessage(email.nextElementSibling, 'Email é obrigatório');
            isValid = false;
        } else {
            clearErrorMessage(email.nextElementSibling);
        }

        if (!password.value) {
            showErrorMessage(password.nextElementSibling, 'Senha é obrigatória');
            isValid = false;
        } else {
            clearErrorMessage(password.nextElementSibling);
        }

        if (isValid) {
            this.submit()
            // Submete o formulário se tudo estiver correto
        }
    });

    function showErrorMessage(element, message) {
        element.textContent = message;
    }

    function clearErrorMessage(element) {
        element.textContent = '';
    }
    </script>
</body>
</html>